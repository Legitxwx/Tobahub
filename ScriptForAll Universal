local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")
local Analytics = game:GetService("RbxAnalyticsService")

local player = Players.LocalPlayer
local keysite = "https://legitxwx.github.io/TobaKeyV1/"
local validtime = 86400
local usedkey = false

local function hash(text)
local result = 0
for i = 1, #text do
result = (result + string.byte(text, i) * i) % 1000000007
end
return tostring(result)
end

local hwid = hash(Analytics:GetClientId())

local gui = Instance.new("ScreenGui")
gui.Name = "AliveKeyGui"
gui.Parent = game.CoreGui

local main = Instance.new("Frame")
main.Parent = gui
main.Size = UDim2.fromScale(0.62, 0.52)
main.Position = UDim2.fromScale(0.5, 0.5)
main.AnchorPoint = Vector2.new(0.5, 0.5)
main.BackgroundColor3 = Color3.fromRGB(16, 18, 34)
main.BackgroundTransparency = 1
main.BorderSizePixel = 0
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 30)

TweenService:Create(main, TweenInfo.new(0.7, Enum.EasingStyle.Quint), {
BackgroundTransparency = 0
}):Play()

local baseposition = main.Position
RunService.RenderStepped:Connect(function(t)
main.Position = baseposition + UDim2.fromOffset(0, math.sin(t * 1.8) * 7)
end)

local title = Instance.new("TextLabel", main)
title.Size = UDim2.fromScale(1, 0.18)
title.BackgroundTransparency = 1
title.Text = "Key System"
title.Font = Enum.Font.GothamBlack
title.TextScaled = true
title.TextColor3 = Color3.fromRGB(230, 235, 255)

local subtitle = Instance.new("TextLabel", main)
subtitle.Position = UDim2.fromScale(0, 0.16)
subtitle.Size = UDim2.fromScale(1, 0.1)
subtitle.BackgroundTransparency = 1
subtitle.Text = "One time access · 24 hours · Device locked"
subtitle.Font = Enum.Font.Gotham
subtitle.TextScaled = true
subtitle.TextColor3 = Color3.fromRGB(150, 160, 200)

local box = Instance.new("TextBox", main)
box.Size = UDim2.fromScale(0.88, 0.15)
box.Position = UDim2.fromScale(0.06, 0.34)
box.BackgroundColor3 = Color3.fromRGB(10, 12, 26)
box.TextColor3 = Color3.new(1, 1, 1)
box.PlaceholderText = "Enter Key"
box.PlaceholderColor3 = Color3.fromRGB(160, 170, 200)
box.Font = Enum.Font.Code
box.TextScaled = true
box.Text = ""
box.ClearTextOnFocus = false
Instance.new("UICorner", box).CornerRadius = UDim.new(0, 20)

local function button(text, pos, color)
local b = Instance.new("TextButton", main)
b.Size = UDim2.fromScale(0.4, 0.14)
b.Position = pos
b.Text = text
b.Font = Enum.Font.GothamBold
b.TextScaled = true
b.BackgroundColor3 = color
b.TextColor3 = Color3.new(1, 1, 1)
b.AutoButtonColor = false
Instance.new("UICorner", b).CornerRadius = UDim.new(0, 22)

b.MouseEnter:Connect(function()  
    TweenService:Create(b, TweenInfo.new(0.15), {  
        Size = b.Size + UDim2.fromScale(0.02, 0.02)  
    }):Play()  
end)  

b.MouseLeave:Connect(function()  
    TweenService:Create(b, TweenInfo.new(0.15), {  
        Size = UDim2.fromScale(0.4, 0.14)  
    }):Play()  
end)  

return b

end

local verify = button("Verify", UDim2.fromScale(0.05, 0.58), Color3.fromRGB(95, 150, 255))
local getkey = button("Get Key", UDim2.fromScale(0.55, 0.58), Color3.fromRGB(80, 210, 170))

task.spawn(function()
while gui.Parent do
TweenService:Create(verify, TweenInfo.new(1.3), {
BackgroundColor3 = Color3.fromRGB(125, 180, 255)
}):Play()
task.wait(1.3)
TweenService:Create(verify, TweenInfo.new(1.3), {
BackgroundColor3 = Color3.fromRGB(95, 150, 255)
}):Play()
task.wait(1.3)
end
end)

local function validate(key)
if usedkey then
return false
end

local timepart, randompart, keyhwid = key:match("RBX(%d+)(%w+)(%d+)")  
if not timepart or not keyhwid then  
    return false  
end  

if keyhwid ~= hwid then  
    return false  
end  

if os.time() - math.floor(tonumber(timepart) / 1000) > validtime then  
    return false  
end  

usedkey = true  
return true

end

verify.MouseButton1Click:Connect(function()
if validate(box.Text) then
verify.Text = "Access Granted"

TweenService:Create(main, TweenInfo.new(0.6, Enum.EasingStyle.Back), {  
        Size = UDim2.fromScale(0, 0)  
    }):Play()  

    task.wait(0.6)  
    gui:Destroy()  

    loadstring(game:HttpGet("https://raw.githubusercontent.com/Legitxwx/Tobahub/main/Loader.xyz/Loader.lua"))()  
else  
    box.Text = ""  
    box.PlaceholderText = "Invalid Key"  
    box.PlaceholderColor3 = Color3.fromRGB(255, 90, 90)  

    TweenService:Create(box, TweenInfo.new(0.1), {  
        Position = box.Position + UDim2.fromOffset(10, 0)  
    }):Play()  

    task.wait(0.1)  

    TweenService:Create(box, TweenInfo.new(0.1), {  
        Position = box.Position - UDim2.fromOffset(10, 0)  
    }):Play()  

    task.delay(1.5, function()  
        box.PlaceholderText = "Enter Key"  
        box.PlaceholderColor3 = Color3.fromRGB(160, 170, 200)  
    end)  
end

end)

getkey.MouseButton1Click:Connect(function()
if syn and syn.request then
syn.request({ Url = keysite, Method = "GET" })
elseif setclipboard then
setclipboard(keysite)
end

StarterGui:SetCore("SendNotification", {  
    Title = "Key System",  
    Text = "Link Already Copied",  
    Duration = 4  
})

end)
